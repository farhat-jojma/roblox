---
import { getLangStaticPaths, resolveLang } from "../lib/i18n";

export interface Props {}
const {} = Astro.props;

export async function getStaticPaths() {
  return getLangStaticPaths();
}

const locale = resolveLang(Astro.params.lang);
const dict = await import(`../locales/${locale}.json`).then((m) => m.default);
---

<section id="unblocked" class="relative w-full py-16 sm:py-20 overflow-hidden bg-gradient-to-br from-[#C0B5B1] via-[#B6ABA8] to-[#C0B5B1] text-black" lang={locale}>
  <div class="absolute inset-0 -z-10 roblox-unblocked-pattern animate-pulse-gentle"></div>

  <div class="max-w-6xl mx-auto px-4 relative z-10">
    <div class="inline-block px-5 py-3 mb-6 bg-[#4387E3] text-white border-4 border-black shadow-[6px_6px_0_#000] transform rotate-2 roblox-unblocked-badge">
      <span class="text-sm font-black tracking-widest uppercase">{dict.unblocked}</span>
    </div>
    <h2 class="text-4xl sm:text-5xl font-black mb-6 roblox-unblocked-title">{dict.unblockedTitle}</h2>
    <p class="max-w-4xl text-black text-lg mb-12 font-bold leading-relaxed">{dict.unblockedSubtitle}</p>

    <div class="grid md:grid-cols-3 gap-8">
      <div class="roblox-unblocked-card roblox-unblocked-card--1">
        <div class="roblox-unblocked-decoration roblox-unblocked-decoration--orange"></div>
        <div class="roblox-unblocked-icon roblox-unblocked-icon--orange"></div>
        <div class="roblox-unblocked-content">
          <h3 class="font-black text-xl mb-3 text-black">{dict.unblockedCard1Title}</h3>
          <p class="text-gray-800 font-medium leading-relaxed">{dict.unblockedCard1Text}</p>
        </div>
        <div class="roblox-unblocked-glow"></div>
      </div>
      <div class="roblox-unblocked-card roblox-unblocked-card--2">
        <div class="roblox-unblocked-decoration roblox-unblocked-decoration--blue"></div>
        <div class="roblox-unblocked-icon roblox-unblocked-icon--blue"></div>
        <div class="roblox-unblocked-content">
          <h3 class="font-black text-xl mb-3 text-black">{dict.unblockedCard2Title}</h3>
          <p class="text-gray-800 font-medium leading-relaxed">{dict.unblockedCard2Text}</p>
        </div>
        <div class="roblox-unblocked-glow"></div>
      </div>
      <div class="roblox-unblocked-card roblox-unblocked-card--3">
        <div class="roblox-unblocked-decoration roblox-unblocked-decoration--purple"></div>
        <div class="roblox-unblocked-icon roblox-unblocked-icon--purple"></div>
        <div class="roblox-unblocked-content">
          <h3 class="font-black text-xl mb-3 text-black">{dict.unblockedCard3Title}</h3>
          <p class="text-gray-800 font-medium leading-relaxed">{dict.unblockedCard3Text}</p>
        </div>
        <div class="roblox-unblocked-glow"></div>
      </div>
    </div>

    <div class="mt-12 flex flex-col sm:flex-row items-center justify-center gap-6">
      <button onclick="document.getElementById('game').scrollIntoView({ behavior: 'smooth' })" 
        class="roblox-unblocked-btn roblox-unblocked-btn--primary">
        <span class="roblox-unblocked-btn__text">{dict.unblockedCTA}</span>
        <div class="roblox-unblocked-btn__shine"></div>
      </button>
      <button onclick="document.getElementById('tips').scrollIntoView({ behavior: 'smooth' })" 
        class="roblox-unblocked-btn roblox-unblocked-btn--secondary">
        <span class="roblox-unblocked-btn__text">{dict.unblockedCTA2}</span>
        <div class="roblox-unblocked-btn__shine"></div>
      </button>
    </div>
  </div>

  <div class="pointer-events-none absolute inset-0 -z-10">
    <span class="pix-dot" style="top:8%;left:10%"></span>
    <span class="pix-dot" style="top:18%;right:14%"></span>
    <span class="pix-dot" style="bottom:14%;left:18%"></span>
    <span class="pix-dot" style="bottom:8%;right:12%"></span>
  </div>

  <style>
    .roblox-unblocked-title {
      text-shadow: 4px 4px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000;
      letter-spacing: 2px;
      background: linear-gradient(45deg, #EF5B1D, #551084, #4387E3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      background-size: 200% 200%;
      animation: gradient-flow 4s ease-in-out infinite;
    }

    @keyframes gradient-flow {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .roblox-unblocked-badge {
      border-radius: 12px;
      position: relative;
      overflow: hidden;
    }
    .roblox-unblocked-badge::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: badge-shine 4s infinite;
    }

    @keyframes badge-shine {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    /* Unblocked background pattern */
    .roblox-unblocked-pattern {
      background-image: 
        radial-gradient(circle at 60px 60px, rgba(239, 91, 29, 0.08) 8px, transparent 9px),
        radial-gradient(circle at 180px 60px, rgba(67, 135, 227, 0.08) 8px, transparent 9px),
        radial-gradient(circle at 120px 180px, rgba(85, 16, 132, 0.08) 8px, transparent 9px);
      background-size: 240px 240px;
    }

    .animate-pulse-gentle {
      animation: pulse-gentle 8s ease-in-out infinite;
    }

    @keyframes pulse-gentle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.6; }
    }

    /* Unblocked cards */
    .roblox-unblocked-card {
      position: relative;
      background: linear-gradient(135deg, #ffffff, #f8f9fa);
      border: 4px solid #000;
      border-radius: 24px;
      padding: 2.5rem;
      overflow: hidden;
      transform: translateY(0) rotate(0deg);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 10px 10px 0 #000;
    }

    .roblox-unblocked-card--1 { transform: rotate(-3deg); }
    .roblox-unblocked-card--2 { transform: rotate(2deg); }
    .roblox-unblocked-card--3 { transform: rotate(-1deg); }

    .roblox-unblocked-card:hover {
      transform: translateY(-15px) rotate(0deg) scale(1.05);
      box-shadow: 20px 20px 0 #000, 0 30px 60px rgba(0,0,0,0.15);
    }

    .roblox-unblocked-decoration {
      position: absolute;
      top: -15px;
      right: -15px;
      width: 40px;
      height: 40px;
      border: 4px solid #000;
      border-radius: 50%;
      box-shadow: 6px 6px 0 #000;
      z-index: 3;
    }

    .roblox-unblocked-decoration--orange { background: linear-gradient(45deg, #EF5B1D, #C46002); }
    .roblox-unblocked-decoration--blue { background: linear-gradient(45deg, #4387E3, #551084); }
    .roblox-unblocked-decoration--purple { background: linear-gradient(45deg, #551084, #4387E3); }

    .roblox-unblocked-icon {
      width: 60px;
      height: 60px;
      border: 4px solid #000;
      border-radius: 16px;
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 6px 6px 0 #000;
      position: relative;
    }

    .roblox-unblocked-icon::before {
      content: '';
      width: 24px;
      height: 24px;
      background: rgba(255,255,255,0.4);
      border-radius: 50%;
      box-shadow: 0 0 0 4px rgba(255,255,255,0.2);
    }

    .roblox-unblocked-icon--orange { background: linear-gradient(135deg, #EF5B1D, #C46002); }
    .roblox-unblocked-icon--blue { background: linear-gradient(135deg, #4387E3, #551084); }
    .roblox-unblocked-icon--purple { background: linear-gradient(135deg, #551084, #4387E3); }

    .roblox-unblocked-content {
      position: relative;
      z-index: 2;
    }

    .roblox-unblocked-glow {
      position: absolute;
      top: -4px;
      left: -4px;
      right: -4px;
      bottom: -4px;
      background: linear-gradient(45deg, rgba(239, 91, 29, 0.1), rgba(67, 135, 227, 0.1), rgba(85, 16, 132, 0.1));
      border-radius: 28px;
      opacity: 0;
      transition: opacity 0.4s ease;
      z-index: -1;
    }

    .roblox-unblocked-card:hover .roblox-unblocked-glow {
      opacity: 1;
    }

    /* Unblocked buttons */
    .roblox-unblocked-btn {
      position: relative;
      display: inline-block;
      padding: 1.5rem 3rem;
      border: 4px solid #000;
      border-radius: 20px;
      font-weight: 900;
      font-size: 1.2rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 10px 10px 0 #000;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      transform: translateY(0);
    }

    .roblox-unblocked-btn--primary {
      background: linear-gradient(45deg, #EF5B1D, #C46002);
      color: white;
    }

    .roblox-unblocked-btn--secondary {
      background: linear-gradient(45deg, #4387E3, #551084);
      color: white;
    }

    .roblox-unblocked-btn__text {
      position: relative;
      z-index: 2;
    }

    .roblox-unblocked-btn__shine {
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: left 0.6s ease;
      z-index: 1;
    }

    .roblox-unblocked-btn:hover {
      transform: translateY(-8px) scale(1.05);
    }

    .roblox-unblocked-btn--primary:hover {
      box-shadow: 15px 15px 0 #000, 0 25px 50px rgba(239, 91, 29, 0.4);
    }

    .roblox-unblocked-btn--secondary:hover {
      box-shadow: 15px 15px 0 #000, 0 25px 50px rgba(67, 135, 227, 0.4);
    }

    .roblox-unblocked-btn:hover .roblox-unblocked-btn__shine {
      left: 100%;
    }
  </style>
</section>
